# STRING SERIES

## Topic: Reverse Words in a String (with and without extra space)

---

## **1. Problem Statement**

Given a string `s` that contains words separated by spaces,
**reverse the order of words** in the string.

* Words may have **multiple spaces** between them.
* There may be **leading or trailing spaces**.
* Return a new string or modify in-place (depending on question).

---

### **Examples**

| Input                 | Output             | Explanation                 |
| --------------------- | ------------------ | --------------------------- |
| `"I love DSA"`        | `"DSA love I"`     | Reverse order of words      |
| `"  hello   world  "` | `"world hello"`    | Remove extra spaces too     |
| `"a good   example"`  | `"example good a"` | Only single space in output |

---

### **Hinglish Explanation**

String di gayi hai jisme words space se separated hain.
Tumhe poori string ko reverse nahi karna, **sirf words ke order ko reverse** karna hai.

Example:
`"I love DSA"` → `"DSA love I"`
Yani last word pehle, pehla word last.

---

## **2. Concept Breakdown**

Let’s visualize the difference between *reversing string* vs *reversing words*:

| Operation             | Input          | Output         |
| --------------------- | -------------- | -------------- |
| Reverse entire string | `"I love DSA"` | `"ASD evol I"` |
| Reverse words only    | `"I love DSA"` | `"DSA love I"` |

---

So we need to **keep words intact**, but **change their order**.

---

## **3. Approach 1 — Using Extra Space (Split + Reverse)**

### **Thought Process**

1. Split the string into individual words.
2. Reverse the array of words.
3. Join them back with a single space.

---

### **Algorithm**

1. Remove extra spaces (trim front/back, compress multiple spaces).
2. Split string into words using a loop or `stringstream`.
3. Reverse the list of words.
4. Join back with `" "` between them.

---

### **Code (C++)**

```cpp
#include <bits/stdc++.h>
using namespace std;

string reverseWords(string s) {
    stringstream ss(s);
    string word;
    vector<string> words;

    // Step 1: Extract words from string
    while (ss >> word) {     // skips extra spaces automatically
        words.push_back(word);
    }

    // Step 2: Reverse order of words
    reverse(words.begin(), words.end());

    // Step 3: Join words with space
    string result = "";
    for (int i = 0; i < words.size(); i++) {
        result += words[i];
        if (i < words.size() - 1) result += " ";
    }
    return result;
}

int main() {
    string s = "  I   love   DSA  ";
    cout << reverseWords(s); // Output: "DSA love I"
}
```

---

### **Dry Run**

Input: `"  I   love   DSA  "`

| Step                | Action                    | Result                         |
| ------------------- | ------------------------- | ------------------------------ |
| Remove extra spaces | (stringstream auto skips) | Words = `["I", "love", "DSA"]` |
| Reverse vector      | `["DSA", "love", "I"]`    |                                |
| Join with space     | `"DSA love I"`            |                                |

---

### **Hinglish Explanation**

* Humne words extract kiye using `stringstream`.
* Phir unka order reverse kiya.
* Join karke ek single clean string bana di.
* Easy but uses **extra space** (vector).

---

### **Time & Space Complexity**

| Complexity | Value | Reason                   |
| ---------- | ----- | ------------------------ |
| Time       | O(n)  | Traverses all chars once |
| Space      | O(n)  | Stores words separately  |

---

## **4. Approach 2 — In-place (Optimal Approach)**

### **Thought Process**

To reduce space, we can do reversal **inside the same string**.

Steps:

1. Reverse the **entire string**.
2. Then reverse each **word individually** to restore word order.

---

### **Example**

Input: `"I love DSA"`

1️⃣ Reverse full string → `"ASD evol I"`
2️⃣ Reverse each word → `"DSA love I"`

---

### **Algorithm**

1. Trim spaces from both ends and reduce multiple spaces.
2. Reverse entire string.
3. For each word (between spaces):

   * Reverse that word individually.

---

### **Code (C++)**

```cpp
#include <bits/stdc++.h>
using namespace std;

// Helper: Reverse a substring within the string
void reverseRange(string &s, int l, int r) {
    while (l < r) {
        swap(s[l], s[r]);
        l++; r--;
    }
}

// Helper: Remove extra spaces
string trimSpaces(string s) {
    string result = "";
    int i = 0;
    while (i < s.length()) {
        // skip leading spaces
        while (i < s.length() && s[i] == ' ') i++;
        if (i >= s.length()) break;
        // collect word
        string word = "";
        while (i < s.length() && s[i] != ' ') {
            word += s[i++];
        }
        // add word + single space
        if (!result.empty()) result += " ";
        result += word;
    }
    return result;
}

string reverseWordsInPlace(string s) {
    s = trimSpaces(s);                // Step 1: clean spaces
    reverse(s.begin(), s.end());      // Step 2: reverse whole string

    int start = 0;
    for (int i = 0; i <= s.length(); i++) {
        if (i == s.length() || s[i] == ' ') {
            reverseRange(s, start, i - 1); // Step 3: reverse each word
            start = i + 1;
        }
    }
    return s;
}

int main() {
    string s = "  I   love   DSA  ";
    cout << reverseWordsInPlace(s); // Output: "DSA love I"
}
```

---

### **Dry Run**

Input: `"  I   love   DSA  "`

| Step                 | Action         | Result |
| -------------------- | -------------- | ------ |
| Trim spaces          | `"I love DSA"` |        |
| Reverse whole string | `"ASD evol I"` |        |
| Reverse each word    | `"DSA love I"` |        |

---

### **Hinglish Explanation**

* Pehle string ke extra spaces hata diye.
* Fir pura string reverse kiya (`I love DSA → ASD evol I`).
* Ab har word ke andar ke letters ko reverse kiya → `"DSA love I"` mil gaya.

Ye sab kuch **same string ke andar hi hua** → **in-place**.

---

### **Time & Space Complexity**

| Complexity | Value | Explanation                         |
| ---------- | ----- | ----------------------------------- |
| Time       | O(n)  | One pass reverse + one pass cleanup |
| Space      | O(1)  | Done in same string                 |

---

## **5. Approach 3 — Using Stack (Alternate Easy Intuition)**

This is for clarity, not optimal but conceptually simple.

---

### **Thought Process**

Push words onto a **stack** then pop them to reverse order.

---

### **Code (C++)**

```cpp
#include <bits/stdc++.h>
using namespace std;

string reverseWordsStack(string s) {
    string word;
    stack<string> st;
    stringstream ss(s);

    // Extract words
    while (ss >> word) st.push(word);

    // Pop to reverse order
    string result = "";
    while (!st.empty()) {
        result += st.top();
        st.pop();
        if (!st.empty()) result += " ";
    }
    return result;
}

int main() {
    string s = "I love DSA";
    cout << reverseWordsStack(s); // Output: DSA love I
}
```

---

### **Dry Run**

| Stack (top) | Action                |
| ----------- | --------------------- |
| push “I”    | stack: [I]            |
| push “love” | stack: [I, love]      |
| push “DSA”  | stack: [I, love, DSA] |
| Pop all     | “DSA love I”          |

---

### **Hinglish Explanation**

* Stack me har word push karte gaye.
* Last inserted word sabse pehle nikla (LIFO).
* Output mil gaya reversed order me.

---

### **Time & Space Complexity**

| Complexity | Value |
| ---------- | ----- |
| Time       | O(n)  |
| Space      | O(n)  |

---

## **6. Comparison of All 3 Approaches**

| Approach           | Time | Space | Explanation              |
| ------------------ | ---- | ----- | ------------------------ |
| Split + Reverse    | O(n) | O(n)  | Simple & clean           |
| In-place (Optimal) | O(n) | O(1)  | Efficient for interviews |
| Stack              | O(n) | O(n)  | Conceptually easy        |

---

## **7. Edge Cases**

| Case         | Input                    | Output             |
| ------------ | ------------------------ | ------------------ |
| Extra spaces | `"  a good   example  "` | `"example good a"` |
| Single word  | `"hello"`                | `"hello"`          |
| Empty string | `""`                     | `""`               |
| Spaces only  | `"     "`                | `""`               |

---

## **8. Interview Notes**

* Interviewers **love this question** because:

  * It tests **string traversal**, **space optimization**, and **edge case handling**.
* Always mention:

  * Trim spaces
  * Handle multiple spaces
  * `reverse` function use for clarity
* **Best answer:** In-place version (`O(n)` time, `O(1)` space)

---

## **9. Summary Table**

| Concept                     | Description                                    |
| --------------------------- | ---------------------------------------------- |
| Reverse full string + words | Efficient in-place trick                       |
| `stringstream`              | Easy parsing but extra space                   |
| `stack<string>`             | Clear concept using LIFO                       |
| Space cleanup               | Always handle multiple/leading/trailing spaces |
| Interview variant           | “Reverse words” ≠ “Reverse characters”         |

---

## **10. Hinglish Recap**

* “Reverse string” aur “reverse words” alag cheezein hain.
* Words ke order reverse karne ke 3 tareeke:

  1. **Split + Reverse** (simple but O(n) space)
  2. **Stack** (concept clear but O(n) space)
  3. **In-place reverse** (best — O(n) time, O(1) space)
* Interview me hamesha in-place reverse explain karo step-by-step.

---